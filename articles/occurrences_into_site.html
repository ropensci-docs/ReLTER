<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="ReLTER">
<title>How to retrieve occurrence records by exploiting the {`ReLTER`} get_site_speciesOccurrences() function • ReLTER</title>
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="How to retrieve occurrence records by exploiting the {`ReLTER`} get_site_speciesOccurrences() function">
<meta property="og:description" content="ReLTER">
<meta property="og:image" content="https://docs.ropensci.org/ReLTER/logo.png">
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Mathjax --><script type="text/javascript" id="MathJax-script" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.0/es5/tex-mml-chtml.min.js">
</script><!-- Matomo --><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css">
<script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript>
<!-- End Matomo Code --><script defer data-domain="docs.ropensci.org/relter" src="https://plausible.io/js/plausible.js"></script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="../index.html">ReLTER</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">2.0.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/occurrences_into_site.html">How to retrieve occurrence records by exploiting the {`ReLTER`} get_site_speciesOccurrences() function</a>
    <a class="dropdown-item" href="../articles/resources_delivered_eu_networks.html">Related resources delivered by EU eLTER sites</a>
    <a class="dropdown-item" href="../articles/rocker_ReLTER.html">Run ReLTER in a Docker container</a>
    <a class="dropdown-item" href="../articles/site_information.html">How to get the info of a (one) LTER Site by knowing the DEIMS.ID</a>
    <a class="dropdown-item" href="../articles/sites_contacts.html">How to get the list of contacts from list of DEIMS ID within csv file</a>
    <a class="dropdown-item" href="../articles/sites_information.html">How to get the info of many than one LTER Sites</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ropensci/ReLTER/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>How to retrieve occurrence records by exploiting the {`ReLTER`} get_site_speciesOccurrences() function</h1>
                        <h4 data-toc-skip class="author">Alessandro Oggioni, Paolo Tagliolato, Martina Zilioli</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ropensci/ReLTER/blob/HEAD/vignettes/occurrences_into_site.Rmd" class="external-link"><code>vignettes/occurrences_into_site.Rmd</code></a></small>
      <div class="d-none name"><code>occurrences_into_site.Rmd</code></div>
    </div>

    
    
<p>__ <em>get_site_speciesOccurrences()</em>, <em>map_occ_gbif2elter</em> and <em>save_occ_eLTER_reporting_Archive()</em> are delivered only with dev__withImprovements branch __</p>
<p>Starting from the eLTER site id (DEIMS.iD), by ReLTER get_site_speciesOccurrences function, anyone can retrieve occurrence records from <a href="https://www.gbif.org" class="external-link">GBIF</a> (via <a href="https://docs.ropensci.org/rgbif/" class="external-link"><code>rgbif</code> R package</a>), <a href="https://www.inaturalist.org/" class="external-link">iNaturalist</a> and <a href="https://obis.org/" class="external-link">OBIS</a> carried out within the boundaries of the site.</p>
<div class="section level3">
<h3 id="what-the-output-of-the-relter-get_site_speciesoccurrences-is">What the output of the <code>ReLTER</code> get_site_speciesOccurrences() is?<a class="anchor" aria-label="anchor" href="#what-the-output-of-the-relter-get_site_speciesoccurrences-is"></a>
</h3>
<p>The user sets the parameters of the function and, through these choose, defines the output.</p>
<p>The parameters of the function are:</p>
<ul>
<li><p>user sets parameter ‘deimsid’ to select the area of interest from which data are to be harvested (i.e., paste DEIMS.ID of the site of interest; e.g., Gulf Of Venice - GOV <a href="https://deims.org/758087d7-231f-4f07-bd7e-6922e0c283fd" class="external-link uri">https://deims.org/758087d7-231f-4f07-bd7e-6922e0c283fd</a>)</p></li>
<li><p>user sets parameter ‘list_DS’ to select the external data service to be queried (i.e., ‘gbif’ or ‘obis’ or ‘inaturalist’)</p></li>
<li><p>user sets parameter ‘show_map’ to get data in map format in addition to tabular format (i.e., show_map = TRUE)</p></li>
<li><p>user sets parameter ‘limit’ to select the records number (i.e., species presence record) to be extracted</p></li>
</ul>
<p>The output are two type: a map and a table(s), for each external data service selected.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># DEIMS.iD of eLTER site Gulf Of Venice (GOV)</span></span>
<span><span class="va">GOVid</span> <span class="op">&lt;-</span> <span class="st">"https://deims.org/758087d7-231f-4f07-bd7e-6922e0c283fd"</span></span>
<span></span>
<span><span class="co"># Compose the function with choosen parameters</span></span>
<span><span class="va">resGOV</span> <span class="op">&lt;-</span> <span class="fu">ReLTER</span><span class="fu">::</span><span class="fu"><a href="../reference/get_site_speciesOccurrences.html">get_site_speciesOccurrences</a></span><span class="op">(</span></span>
<span>  deimsid <span class="op">=</span> <span class="va">GOVid</span>,</span>
<span>  list_DS <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"gbif"</span>, <span class="st">"inat"</span>, <span class="st">"obis"</span><span class="op">)</span>,</span>
<span>  show_map <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  limit <span class="op">=</span> <span class="fl">20</span></span>
<span><span class="op">)</span></span></code></pre></div>
<iframe src="./other/occurrences_into_site_map.html" height="405" width="720" style="border: 1px solid #464646;">
</iframe>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># iNat table</span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span></span>
<span>  <span class="va">resGOV</span><span class="op">$</span><span class="va">inat</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span><span class="op">]</span>,</span>
<span>  caption <span class="op">=</span> <span class="st">"The first 10 occurrence records of iNaturalist on the selected eLTER site."</span></span>
<span><span class="op">)</span></span></code></pre></div>
<table class="table">
<caption>The first 10 occurrence records of iNaturalist on the selected eLTER site.</caption>
<colgroup>
<col width="0%">
<col width="1%">
<col width="0%">
<col width="90%">
<col width="1%">
<col width="0%">
<col width="0%">
<col width="1%">
<col width="1%">
<col width="1%">
<col width="1%">
</colgroup>
<thead><tr class="header">
<th align="left">quality_grade</th>
<th align="left">time_observed_at</th>
<th align="left">taxon_geoprivacy</th>
<th align="left">annotations</th>
<th align="left">uuid</th>
<th align="right">id</th>
<th align="right">cached_votes_total</th>
<th align="left">identifications_most_agree</th>
<th align="left">species_guess</th>
<th align="left">identifications_most_disagree</th>
<th align="left">geometry</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">research</td>
<td align="left">2023-01-22T16:04:00+01:00</td>
<td align="left">open</td>
<td align="left">NULL</td>
<td align="left">9c6f0a3f-7aab-4e76-927a-cc48dda760cd</td>
<td align="right">147204127</td>
<td align="right">0</td>
<td align="left">TRUE</td>
<td align="left">Pied Avocet</td>
<td align="left">FALSE</td>
<td align="left">POINT (12.41794 45.0308)</td>
</tr>
<tr class="even">
<td align="left">research</td>
<td align="left">2023-01-22T12:35:00+01:00</td>
<td align="left">NA</td>
<td align="left">2922988 , 17|18 , 17 , edb85cf7-e574-4636-ac3c-54beb3be0e0e , 0 , 18 , 2922988 , dario124 , FALSE , FALSE , 2020-05-07T19:07:12+00:00 , dario124 , dario124 , Dario Michieletto , Dario Michieletto , NA , <a href="https://static.inaturalist.org/attachments/users/icons/2922988/thumb.jpeg?1588878432" class="external-link uri">https://static.inaturalist.org/attachments/users/icons/2922988/thumb.jpeg?1588878432</a> , 105 , 1003 , 0 , 1108 , 53 , 105 , NA , <a href="https://static.inaturalist.org/attachments/users/icons/2922988/medium.jpeg?1588878432" class="external-link uri">https://static.inaturalist.org/attachments/users/icons/2922988/medium.jpeg?1588878432</a>
</td>
<td align="left">2860796b-569e-4e57-a2fd-fdf9bdd44dcf</td>
<td align="right">147204126</td>
<td align="right">0</td>
<td align="left">TRUE</td>
<td align="left">Saltimpalo</td>
<td align="left">FALSE</td>
<td align="left">POINT (12.38132 44.99527)</td>
</tr>
<tr class="odd">
<td align="left">research</td>
<td align="left">2023-01-22T16:16:00+01:00</td>
<td align="left">open</td>
<td align="left">NULL</td>
<td align="left">b8a9bc55-59b6-4608-85d7-a2942db256ff</td>
<td align="right">147204125</td>
<td align="right">0</td>
<td align="left">TRUE</td>
<td align="left">Volpoca</td>
<td align="left">FALSE</td>
<td align="left">POINT (12.39728 45.03556)</td>
</tr>
<tr class="even">
<td align="left">research</td>
<td align="left">2023-01-22T16:10:00+01:00</td>
<td align="left">open</td>
<td align="left">NULL</td>
<td align="left">f4daeaa4-c8f7-49d6-a32a-150d0fce759b</td>
<td align="right">147204124</td>
<td align="right">0</td>
<td align="left">TRUE</td>
<td align="left">Piro piro piccolo</td>
<td align="left">FALSE</td>
<td align="left">POINT (12.4191 45.03021)</td>
</tr>
<tr class="odd">
<td align="left">research</td>
<td align="left">2023-01-22T16:20:00+01:00</td>
<td align="left">open</td>
<td align="left">NULL</td>
<td align="left">6b46ced2-2ca8-453f-b272-cb09cd48cdf3</td>
<td align="right">147204123</td>
<td align="right">0</td>
<td align="left">TRUE</td>
<td align="left">Pivieressa</td>
<td align="left">FALSE</td>
<td align="left">POINT (12.41794 45.0308)</td>
</tr>
<tr class="even">
<td align="left">research</td>
<td align="left">2012-11-17T07:35:00+01:00</td>
<td align="left">open</td>
<td align="left">NULL</td>
<td align="left">ec809142-b0d3-4787-8abf-1b4c8d91cab6</td>
<td align="right">147186739</td>
<td align="right">0</td>
<td align="left">TRUE</td>
<td align="left">Gaivota-de-patas-amarelas</td>
<td align="left">FALSE</td>
<td align="left">POINT (12.33358 45.4307)</td>
</tr>
<tr class="odd">
<td align="left">research</td>
<td align="left">2012-11-16T10:57:00+01:00</td>
<td align="left">open</td>
<td align="left">NULL</td>
<td align="left">73e6464c-2042-4494-b3c0-75b2f7b348a7</td>
<td align="right">147186737</td>
<td align="right">0</td>
<td align="left">TRUE</td>
<td align="left">Gabbiano reale mediterraneo</td>
<td align="left">FALSE</td>
<td align="left">POINT (12.32902 45.43551)</td>
</tr>
<tr class="even">
<td align="left">research</td>
<td align="left">2012-11-16T10:55:00+01:00</td>
<td align="left">open</td>
<td align="left">NULL</td>
<td align="left">a66017b3-01fe-406c-9484-e70471b164e7</td>
<td align="right">147186736</td>
<td align="right">0</td>
<td align="left">TRUE</td>
<td align="left">Mittelmeermöwe</td>
<td align="left">FALSE</td>
<td align="left">POINT (12.32901 45.4354)</td>
</tr>
<tr class="odd">
<td align="left">research</td>
<td align="left">2012-11-16T10:59:00+01:00</td>
<td align="left">open</td>
<td align="left">NULL</td>
<td align="left">72247211-741b-4015-b587-29defd2336a2</td>
<td align="right">147186734</td>
<td align="right">0</td>
<td align="left">TRUE</td>
<td align="left">Gaivota-de-patas-amarelas</td>
<td align="left">FALSE</td>
<td align="left">POINT (12.329 45.43544)</td>
</tr>
<tr class="even">
<td align="left">research</td>
<td align="left">2012-11-16T09:18:00+01:00</td>
<td align="left">open</td>
<td align="left">NULL</td>
<td align="left">9ae533ce-e831-4dc2-bb31-50c32d3f5776</td>
<td align="right">147186733</td>
<td align="right">0</td>
<td align="left">TRUE</td>
<td align="left">Mittelmeermöwe</td>
<td align="left">FALSE</td>
<td align="left">POINT (12.33987 45.43351)</td>
</tr>
<tr class="odd">
<td align="left">research</td>
<td align="left">2012-11-15T09:42:00+01:00</td>
<td align="left">open</td>
<td align="left">NULL</td>
<td align="left">ccca5f46-209e-4147-a840-121c40f55efa</td>
<td align="right">147186732</td>
<td align="right">0</td>
<td align="left">TRUE</td>
<td align="left">Guincho-comum</td>
<td align="left">FALSE</td>
<td align="left">POINT (12.33729 45.50086)</td>
</tr>
<tr class="even">
<td align="left">research</td>
<td align="left">2023-01-22T15:20:52+01:00</td>
<td align="left">open</td>
<td align="left">2174549 , 17|18 , 17 , d57cce74-746b-47c7-b21b-7849a4fea625 , 0 , 18 , 2174549 , rijans , FALSE , FALSE , 2019-08-26T05:45:51+00:00 , rijans , rijans , Rita Jansen , Rita Jansen , NA , <a href="https://static.inaturalist.org/attachments/users/icons/2174549/thumb.jpg?1583306995" class="external-link uri">https://static.inaturalist.org/attachments/users/icons/2174549/thumb.jpg?1583306995</a> , 3540 , 2152 , 0 , 5692 , 1426 , 3540 , 1 , <a href="https://static.inaturalist.org/attachments/users/icons/2174549/medium.jpg?1583306995" class="external-link uri">https://static.inaturalist.org/attachments/users/icons/2174549/medium.jpg?1583306995</a>
</td>
<td align="left">e28745f8-44a5-484b-b0da-6d1a9f2c9f84</td>
<td align="right">147110652</td>
<td align="right">0</td>
<td align="left">TRUE</td>
<td align="left">Black-headed Gull</td>
<td align="left">FALSE</td>
<td align="left">POINT (12.34345 45.44149)</td>
</tr>
<tr class="odd">
<td align="left">research</td>
<td align="left">2023-01-22T11:34:45+01:00</td>
<td align="left">open</td>
<td align="left">NULL</td>
<td align="left">1c655bdc-f37c-4172-988d-50101f680dc4</td>
<td align="right">147100146</td>
<td align="right">0</td>
<td align="left">TRUE</td>
<td align="left">Gabbiano reale mediterraneo</td>
<td align="left">FALSE</td>
<td align="left">POINT (12.33875 45.4342)</td>
</tr>
<tr class="even">
<td align="left">research</td>
<td align="left">2023-01-22T11:31:45+01:00</td>
<td align="left">open</td>
<td align="left">2174549 , 17|18 , 17 , 46fdf28d-630a-448d-836d-2c134d077dd7 , 0 , 18 , 2174549 , rijans , FALSE , FALSE , 2019-08-26T05:45:51+00:00 , rijans , rijans , Rita Jansen , Rita Jansen , NA , <a href="https://static.inaturalist.org/attachments/users/icons/2174549/thumb.jpg?1583306995" class="external-link uri">https://static.inaturalist.org/attachments/users/icons/2174549/thumb.jpg?1583306995</a> , 3540 , 2152 , 0 , 5692 , 1426 , 3540 , 1 , <a href="https://static.inaturalist.org/attachments/users/icons/2174549/medium.jpg?1583306995" class="external-link uri">https://static.inaturalist.org/attachments/users/icons/2174549/medium.jpg?1583306995</a>
</td>
<td align="left">4a8b5958-1396-406a-8fc1-188592ecb523</td>
<td align="right">147100044</td>
<td align="right">0</td>
<td align="left">TRUE</td>
<td align="left">Colombo domestico</td>
<td align="left">FALSE</td>
<td align="left">POINT (12.33879 45.43428)</td>
</tr>
<tr class="odd">
<td align="left">casual</td>
<td align="left">2023-01-21T16:17:42+01:00</td>
<td align="left">NA</td>
<td align="left">NULL</td>
<td align="left">f81c4ce6-22a6-46f2-a83a-275b4e5342ac</td>
<td align="right">147097241</td>
<td align="right">0</td>
<td align="left">FALSE</td>
<td align="left">Granchio Corridore</td>
<td align="left">FALSE</td>
<td align="left">POINT (12.64574 45.50629)</td>
</tr>
<tr class="even">
<td align="left">research</td>
<td align="left">2023-01-22T10:26:05+01:00</td>
<td align="left">NA</td>
<td align="left">NULL</td>
<td align="left">6385ed45-5ed7-4b25-bed4-c580595c3ee3</td>
<td align="right">147097060</td>
<td align="right">0</td>
<td align="left">TRUE</td>
<td align="left">caper spurge</td>
<td align="left">FALSE</td>
<td align="left">POINT (12.3258 45.63141)</td>
</tr>
<tr class="odd">
<td align="left">needs_id</td>
<td align="left">2023-01-21T10:51:28+01:00</td>
<td align="left">NA</td>
<td align="left">NULL</td>
<td align="left">98564929-ca38-43eb-96fd-aff8369e16f5</td>
<td align="right">147096981</td>
<td align="right">0</td>
<td align="left">FALSE</td>
<td align="left">Bardane</td>
<td align="left">FALSE</td>
<td align="left">POINT (12.3211 45.63215)</td>
</tr>
<tr class="even">
<td align="left">research</td>
<td align="left">2023-01-21T15:22:00+01:00</td>
<td align="left">open</td>
<td align="left">NULL</td>
<td align="left">5e609fa8-9f16-49e3-888c-126e1faf7fad</td>
<td align="right">147094781</td>
<td align="right">0</td>
<td align="left">TRUE</td>
<td align="left">Pantana</td>
<td align="left">FALSE</td>
<td align="left">POINT (12.3764 45.03672)</td>
</tr>
<tr class="odd">
<td align="left">research</td>
<td align="left">2023-01-21T15:24:00+01:00</td>
<td align="left">open</td>
<td align="left">NULL</td>
<td align="left">5ec4d059-66b4-4912-9018-b1362a25b2e1</td>
<td align="right">147094741</td>
<td align="right">0</td>
<td align="left">TRUE</td>
<td align="left">Pantana</td>
<td align="left">FALSE</td>
<td align="left">POINT (12.37586 45.03503)</td>
</tr>
<tr class="even">
<td align="left">research</td>
<td align="left">2023-01-21T15:32:00+01:00</td>
<td align="left">open</td>
<td align="left">NULL</td>
<td align="left">6b30b04c-c66d-447c-a312-d2ccee4deae0</td>
<td align="right">147094715</td>
<td align="right">0</td>
<td align="left">TRUE</td>
<td align="left">Black-headed Gull</td>
<td align="left">FALSE</td>
<td align="left">POINT (12.37568 45.03388)</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># OBIS table</span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span></span>
<span>  <span class="va">resGOV</span><span class="op">$</span><span class="va">obis</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span><span class="op">]</span>,</span>
<span>  caption <span class="op">=</span> <span class="st">"The first 10 occurrence records of OBIS on the selected eLTER site."</span></span>
<span><span class="op">)</span></span></code></pre></div>
<table class="table">
<caption>The first 10 occurrence records of OBIS on the selected eLTER site.</caption>
<colgroup>
<col width="8%">
<col width="5%">
<col width="25%">
<col width="2%">
<col width="13%">
<col width="4%">
<col width="7%">
<col width="4%">
<col width="5%">
<col width="6%">
<col width="15%">
</colgroup>
<thead><tr class="header">
<th align="left">infraphylum</th>
<th align="right">date_year</th>
<th align="left">scientificNameID</th>
<th align="left">year</th>
<th align="left">scientificName</th>
<th align="left">dropped</th>
<th align="right">gigaclassid</th>
<th align="right">aphiaID</th>
<th align="left">language</th>
<th align="right">subclassid</th>
<th align="left">geometry</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Gnathostomata</td>
<td align="right">1978</td>
<td align="left"><a href="urn:lsid:marinespecies.org:taxname:126977" class="uri">urn:lsid:marinespecies.org:taxname:126977</a></td>
<td align="left">1978</td>
<td align="left">Chelon labrosus</td>
<td align="left">FALSE</td>
<td align="right">10194</td>
<td align="right">126977</td>
<td align="left">en</td>
<td align="right">293496</td>
<td align="left">POINT (12.3774 45.3867)</td>
</tr>
<tr class="even">
<td align="left">Gnathostomata</td>
<td align="right">2011</td>
<td align="left"><a href="urn:lsid:marinespecies.org:taxname:126285" class="uri">urn:lsid:marinespecies.org:taxname:126285</a></td>
<td align="left">2011</td>
<td align="left">Conger conger</td>
<td align="left">FALSE</td>
<td align="right">10194</td>
<td align="right">126285</td>
<td align="left">en</td>
<td align="right">293496</td>
<td align="left">POINT (12.45888 45.18583)</td>
</tr>
<tr class="odd">
<td align="left">NA</td>
<td align="right">2003</td>
<td align="left"><a href="urn:lsid:marinespecies.org:taxname:101055" class="uri">urn:lsid:marinespecies.org:taxname:101055</a></td>
<td align="left">2003</td>
<td align="left">Parazoanthus axinellae</td>
<td align="left">FALSE</td>
<td align="right">NA</td>
<td align="right">101055</td>
<td align="left">en</td>
<td align="right">1340</td>
<td align="left">POINT (12.42125 45.20315)</td>
</tr>
<tr class="even">
<td align="left">Gnathostomata</td>
<td align="right">1925</td>
<td align="left"><a href="urn:lsid:marinespecies.org:taxname:151523" class="uri">urn:lsid:marinespecies.org:taxname:151523</a></td>
<td align="left">1925</td>
<td align="left">Sparus aurata</td>
<td align="left">FALSE</td>
<td align="right">10194</td>
<td align="right">151523</td>
<td align="left">en</td>
<td align="right">293496</td>
<td align="left">POINT (12.9377 45.0629)</td>
</tr>
<tr class="odd">
<td align="left">Gnathostomata</td>
<td align="right">NA</td>
<td align="left"><a href="urn:lsid:marinespecies.org:taxname:126968" class="uri">urn:lsid:marinespecies.org:taxname:126968</a></td>
<td align="left">NA</td>
<td align="left">Labrus viridis</td>
<td align="left">FALSE</td>
<td align="right">10194</td>
<td align="right">126968</td>
<td align="left">NA</td>
<td align="right">293496</td>
<td align="left">POINT (12.33195 45.4414)</td>
</tr>
<tr class="even">
<td align="left">NA</td>
<td align="right">NA</td>
<td align="left"><a href="urn:lsid:marinespecies.org:taxname:130294" class="uri">urn:lsid:marinespecies.org:taxname:130294</a></td>
<td align="left">NA</td>
<td align="left">Euclymene oerstedii</td>
<td align="left">FALSE</td>
<td align="right">NA</td>
<td align="right">130294</td>
<td align="left">NA</td>
<td align="right">754175</td>
<td align="left">POINT (12.34 45.16)</td>
</tr>
<tr class="odd">
<td align="left">NA</td>
<td align="right">NA</td>
<td align="left"><a href="urn:lsid:marinespecies.org:taxname:124405" class="uri">urn:lsid:marinespecies.org:taxname:124405</a></td>
<td align="left">NA</td>
<td align="left">Ova canalifera</td>
<td align="left">FALSE</td>
<td align="right">NA</td>
<td align="right">569394</td>
<td align="left">NA</td>
<td align="right">149854</td>
<td align="left">POINT (12.35 45.3)</td>
</tr>
<tr class="even">
<td align="left">Gnathostomata</td>
<td align="right">1922</td>
<td align="left"><a href="urn:lsid:marinespecies.org:taxname:125570" class="uri">urn:lsid:marinespecies.org:taxname:125570</a></td>
<td align="left">1922</td>
<td align="left">Trachinidae</td>
<td align="left">FALSE</td>
<td align="right">10194</td>
<td align="right">125570</td>
<td align="left">en</td>
<td align="right">293496</td>
<td align="left">POINT (12.9377 45.0629)</td>
</tr>
<tr class="odd">
<td align="left">NA</td>
<td align="right">1934</td>
<td align="left"><a href="urn:lsid:marinespecies.org:taxname:124670" class="uri">urn:lsid:marinespecies.org:taxname:124670</a></td>
<td align="left">1934</td>
<td align="left">Thyone fusus</td>
<td align="left">FALSE</td>
<td align="right">NA</td>
<td align="right">124670</td>
<td align="left">en</td>
<td align="right">1393249</td>
<td align="left">POINT (13.171 45.468)</td>
</tr>
<tr class="even">
<td align="left">Gnathostomata</td>
<td align="right">1988</td>
<td align="left"><a href="urn:lsid:marinespecies.org:taxname:127060" class="uri">urn:lsid:marinespecies.org:taxname:127060</a></td>
<td align="left">1988</td>
<td align="left">Pagellus erythrinus</td>
<td align="left">FALSE</td>
<td align="right">10194</td>
<td align="right">127060</td>
<td align="left">NA</td>
<td align="right">293496</td>
<td align="left">POINT (12.88 45.33)</td>
</tr>
<tr class="odd">
<td align="left">NA</td>
<td align="right">2008</td>
<td align="left"><a href="urn:lsid:marinespecies.org:taxname:149126" class="uri">urn:lsid:marinespecies.org:taxname:149126</a></td>
<td align="left">2008</td>
<td align="left">Chaetoceros decipiens</td>
<td align="left">FALSE</td>
<td align="right">NA</td>
<td align="right">149126</td>
<td align="left">NA</td>
<td align="right">148971</td>
<td align="left">POINT (12.9203 45.401)</td>
</tr>
<tr class="even">
<td align="left">NA</td>
<td align="right">1990</td>
<td align="left"><a href="urn:lsid:marinespecies.org:taxname:149045" class="uri">urn:lsid:marinespecies.org:taxname:149045</a></td>
<td align="left">1990</td>
<td align="left">Nitzschia</td>
<td align="left">FALSE</td>
<td align="right">NA</td>
<td align="right">149045</td>
<td align="left">NA</td>
<td align="right">148902</td>
<td align="left">POINT (13.19617 45.436)</td>
</tr>
<tr class="odd">
<td align="left">NA</td>
<td align="right">2006</td>
<td align="left"><a href="urn:lsid:marinespecies.org:taxname:131774" class="uri">urn:lsid:marinespecies.org:taxname:131774</a></td>
<td align="left">2006</td>
<td align="left">Axinella</td>
<td align="left">FALSE</td>
<td align="right">NA</td>
<td align="right">131774</td>
<td align="left">en</td>
<td align="right">607950</td>
<td align="left">POINT (12.48941 45.23041)</td>
</tr>
<tr class="even">
<td align="left">NA</td>
<td align="right">1988</td>
<td align="left"><a href="urn:lsid:marinespecies.org:taxname:107239" class="uri">urn:lsid:marinespecies.org:taxname:107239</a></td>
<td align="left">1988</td>
<td align="left">Pagurus prideaux</td>
<td align="left">FALSE</td>
<td align="right">NA</td>
<td align="right">107239</td>
<td align="left">NA</td>
<td align="right">1086</td>
<td align="left">POINT (12.6 45.31)</td>
</tr>
<tr class="odd">
<td align="left">Gnathostomata</td>
<td align="right">1927</td>
<td align="left"><a href="urn:lsid:marinespecies.org:taxname:127021" class="uri">urn:lsid:marinespecies.org:taxname:127021</a></td>
<td align="left">1927</td>
<td align="left">Sarda sarda</td>
<td align="left">FALSE</td>
<td align="right">10194</td>
<td align="right">127021</td>
<td align="left">en</td>
<td align="right">293496</td>
<td align="left">POINT (12.9377 45.0629)</td>
</tr>
<tr class="even">
<td align="left">NA</td>
<td align="right">2008</td>
<td align="left"><a href="urn:lsid:marinespecies.org:taxname:213" class="uri">urn:lsid:marinespecies.org:taxname:213</a></td>
<td align="left">2008</td>
<td align="left">Pectinidae</td>
<td align="left">FALSE</td>
<td align="right">NA</td>
<td align="right">213</td>
<td align="left">en</td>
<td align="right">1424948</td>
<td align="left">POINT (12.40591 45.20458)</td>
</tr>
<tr class="odd">
<td align="left">NA</td>
<td align="right">1988</td>
<td align="left"><a href="urn:lsid:marinespecies.org:taxname:137111" class="uri">urn:lsid:marinespecies.org:taxname:137111</a></td>
<td align="left">NA</td>
<td align="left">Tursiops truncatus</td>
<td align="left">FALSE</td>
<td align="right">NA</td>
<td align="right">137111</td>
<td align="left">NA</td>
<td align="right">380416</td>
<td align="left">POINT (13.25167 45.58333)</td>
</tr>
<tr class="even">
<td align="left">NA</td>
<td align="right">1988</td>
<td align="left"><a href="urn:lsid:marinespecies.org:taxname:137111" class="uri">urn:lsid:marinespecies.org:taxname:137111</a></td>
<td align="left">NA</td>
<td align="left">Tursiops truncatus</td>
<td align="left">FALSE</td>
<td align="right">NA</td>
<td align="right">137111</td>
<td align="left">NA</td>
<td align="right">380416</td>
<td align="left">POINT (13.035 45.13333)</td>
</tr>
<tr class="odd">
<td align="left">Gnathostomata</td>
<td align="right">2012</td>
<td align="left"><a href="urn:lsid:marinespecies.org:taxname:105923" class="uri">urn:lsid:marinespecies.org:taxname:105923</a></td>
<td align="left">2012</td>
<td align="left">Squalus acanthias</td>
<td align="left">FALSE</td>
<td align="right">NA</td>
<td align="right">105923</td>
<td align="left">en</td>
<td align="right">368407</td>
<td align="left">POINT (12.77119 45.33256)</td>
</tr>
<tr class="even">
<td align="left">NA</td>
<td align="right">2006</td>
<td align="left"><a href="urn:lsid:marinespecies.org:taxname:366651" class="uri">urn:lsid:marinespecies.org:taxname:366651</a></td>
<td align="left">2006</td>
<td align="left">Keratosa</td>
<td align="left">FALSE</td>
<td align="right">NA</td>
<td align="right">366651</td>
<td align="left">en</td>
<td align="right">366651</td>
<td align="left">POINT (12.38396 45.21108)</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="how-to-trasform-external-service-data-schemas-into-elter-data-reporting-template">How to trasform external service data schemas into eLTER data-reporting template?<a class="anchor" aria-label="anchor" href="#how-to-trasform-external-service-data-schemas-into-elter-data-reporting-template"></a>
</h3>
<p>The structure of species occurrence records reflects the exporting schema of the original data publisher. Fields mapping among the three data source schemas (i.e., GBIF, iNaturalist, OBIS) and the eLTER data-reporting template (<span class="citation">Peterseil J. (2020)</span>) was carried out so as to design functions to structure fetched data in three simplified output data formats. These output data formats result i) harmonised to eLTER data-reporting requirements/template and ii) more readable since only essential attributes are maintained.</p>
<p>Using 2 other R functions, developed for solve this issue, data from external data service can be exported into eLTER data-reporting template.</p>
<p>Below an example for the eLTER <a href="https://deims.org/97ff6180-e5d1-45f2-a559-8a7872eb26b1" class="external-link">Saldur River Catchment site</a>, where the external data service to be queried are GBIF and iNaturalist.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">saldurid</span> <span class="op">&lt;-</span> <span class="st">"https://deims.org/97ff6180-e5d1-45f2-a559-8a7872eb26b1"</span></span>
<span></span>
<span><span class="va">resSaldur</span> <span class="op">&lt;-</span> <span class="fu">ReLTER</span><span class="fu">::</span><span class="fu"><a href="../reference/get_site_speciesOccurrences.html">get_site_speciesOccurrences</a></span><span class="op">(</span></span>
<span>  deimsid <span class="op">=</span> <span class="va">saldurid</span>,</span>
<span>  list_DS <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"gbif"</span>, <span class="st">"inat"</span><span class="op">)</span>,</span>
<span>  show_map <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  limit <span class="op">=</span> <span class="fl">20</span>,</span>
<span>  exclude_inat_from_gbif <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># GBIF</span></span>
<span><span class="va">tblSaldur_gbif</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html" class="external-link">as_tibble</a></span><span class="op">(</span><span class="va">resSaldur</span><span class="op">$</span><span class="va">gbif</span><span class="op">)</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">tblSaldur_gbif</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">outGbif</span> <span class="op">&lt;-</span> <span class="va">tblSaldur_gbif</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu">ReLTER</span><span class="fu">::</span><span class="fu"><a href="../reference/map_occ_gbif2elter.html">map_occ_gbif2elter</a></span><span class="op">(</span>deimsid <span class="op">=</span> <span class="va">saldurid</span><span class="op">)</span></span>
<span>  <span class="fu">ReLTER</span><span class="fu">::</span><span class="fu"><a href="../reference/save_occ_eLTER_reporting_Archive.html">save_occ_eLTER_reporting_Archive</a></span><span class="op">(</span><span class="va">outGbif</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "/tmp/RtmpZ5wCUE/biodiv_occurrence_site_97ff6180-e5d1-45f2-a559-8a7872eb26b1_gbif.zip"</span></span></code></pre>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># iNaturalist</span></span>
<span><span class="va">tblSaldur_inat</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html" class="external-link">as_tibble</a></span><span class="op">(</span><span class="va">resSaldur</span><span class="op">$</span><span class="va">inat</span><span class="op">)</span></span>
<span><span class="va">outInat</span> <span class="op">&lt;-</span> <span class="va">tblSaldur_inat</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">ReLTER</span><span class="fu">::</span><span class="fu"><a href="../reference/map_occ_inat2elter.html">map_occ_inat2elter</a></span><span class="op">(</span>deimsid <span class="op">=</span> <span class="va">saldurid</span><span class="op">)</span></span>
<span><span class="fu">ReLTER</span><span class="fu">::</span><span class="fu"><a href="../reference/save_occ_eLTER_reporting_Archive.html">save_occ_eLTER_reporting_Archive</a></span><span class="op">(</span><span class="va">outInat</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "/tmp/RtmpZ5wCUE/biodiv_occurrence_site_97ff6180-e5d1-45f2-a559-8a7872eb26b1_inat.zip"</span></span></code></pre>
<p>The eLTER useful archive created are:</p>
<ul>
<li><p>biodiv_occurrence_site_97ff6180-e5d1-45f2-a559-8a7872eb26b1_gbif.zip</p></li>
<li><p>biodiv_occurrence_site_97ff6180-e5d1-45f2-a559-8a7872eb26b1_inat.zip</p></li>
</ul>
</div>
<div class="section level3">
<h3 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-Peterseil2021" class="csl-entry">
Peterseil J., Geiger S. 2020. <span>“Field Specification for Data Reporting.”</span> <a href="https://www.lter-europe.net/projects/PLUS/eLTER_TechDoc_TemplateSpecification.pdf" class="external-link">https://www.lter-europe.net/projects/PLUS/eLTER_TechDoc_TemplateSpecification.pdf</a>.
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg">
</div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://twitter.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-twitter"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul>
</div>
                    <div class="col-md-3 col-sm-4">
                        <ul>
<h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul>
</div>
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul>
</div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer>
</div>

  

  

  </body>
</html>
